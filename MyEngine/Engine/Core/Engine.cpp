/*******************************************************************************
* タイトル:		エンジンプログラム
* プログラム名:	Engine.cpp
* 作成者:		Sand639/大槻　海斗	(https://github.com/Sand639)
* 作成日:		2025/07/26
* 説明:		    エンジンのイベント関数を定義するクラス
********************************************************************************/

/*******************************************************************************
* インクルードファイル
*******************************************************************************/
#include "Engine.h"
#include <windows.h>

/*******************************************************************************
* 静的変数の定義
*******************************************************************************/
MSG Engine::m_msg{};

/*******************************************************************************
 関数名:	Engine::Initialize()
 引数　:	void
 戻り値:	正常終了: bool型の true
			異常終了: bool型の false
 説明　:	初期化イベントを実行する関数
			この関数はエンジンの初期化処理を行います。
			必要なリソースのロードや初期設定を行います。
			成功した場合は true を返し、失敗した場合は false を返します。
*******************************************************************************/
bool Engine::Initialize()
{

	return true;
}

/*******************************************************************************
 関数名:	Engine::Update()
 引数　:	void
 戻り値:	void
 説明　:	更新イベントを実行する関数
			この関数はエンジンの更新処理を行います。
			ゲームのロジックや状態の更新を行います。
			この関数は毎フレーム呼び出されます。
*******************************************************************************/
void Engine::Update()
{

}

/*******************************************************************************
 関数名:	Engine::Draw()
 引数　:	void
 戻り値:	void
 説明　:	描画イベントを実行する関数
			この関数はエンジンの描画処理を行います。
			ゲームのグラフィックスを画面に描画します。
			この関数は毎フレーム呼び出されます。
*******************************************************************************/
void Engine::Draw()
{

}

/*******************************************************************************
 関数名:	Engine::Finalize()
 引数　:	void
 戻り値:	正常終了: bool型の true
			異常終了: bool型の false
 説明　:	終了イベントを実行する関数
			この関数はエンジンの終了処理を行います。
			使用したリソースの解放やクリーンアップを行います。
			成功した場合は true を返し、失敗した場合は false を返します。
*******************************************************************************/
bool Engine::Finalize()
{

	return true;
}

/*******************************************************************************
 関数名:	Engine::Run()
 引数　:	void
 戻り値:	正常終了: bool型の true
			異常終了: bool型の false
 説明　:	メインループ処理を実行する関数
			この関数はエンジンのメインループを実行します。
			ゲームの更新と描画を繰り返し行います。
			ウィンドウメッセージの処理も行います。
*******************************************************************************/
bool Engine::Run()
{
	// メインループ処理
	while (true) {
		// メッセージがある場合は処理
		while (PeekMessage(&m_msg, nullptr, 0, 0, PM_REMOVE)) {
			if (m_msg.message == WM_QUIT) {
				break;
			}
			TranslateMessage(&m_msg);
			DispatchMessage(&m_msg);
		}

		if (m_msg.message == WM_QUIT) {
			break;
		}

		Update();	// ゲームロジック処理
		Draw();		// 描画処理
	}

	return true;
}
